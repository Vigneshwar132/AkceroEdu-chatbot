{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password, studentClass, email) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/register`, {\n          username,\n          password,\n          student_class: studentClass,\n          email\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":127,"map":[[13,2,24,0,"Object"],[13,8,24,0],[13,9,24,0,"defineProperty"],[13,23,24,0],[13,24,24,0,"exports"],[13,31,24,0],[14,4,24,0,"enumerable"],[14,14,24,0],[15,4,24,0,"get"],[15,7,24,0],[15,18,24,0,"get"],[15,19,24,0],[16,6,24,0],[16,13,24,0,"AuthProvider"],[16,25,24,0],[17,4,24,0],[18,2,24,0],[19,2,107,0,"Object"],[19,8,107,0],[19,9,107,0,"defineProperty"],[19,23,107,0],[19,24,107,0,"exports"],[19,31,107,0],[20,4,107,0,"enumerable"],[20,14,107,0],[21,4,107,0,"get"],[21,7,107,0],[21,18,107,0,"get"],[21,19,107,0],[22,6,107,0],[22,13,107,0,"useAuth"],[22,20,107,0],[23,4,107,0],[24,2,107,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,20,0],[31,8,20,6,"AuthContext"],[31,19,20,17],[31,35,20,20],[31,39,20,20,"createContext"],[31,45,20,33],[31,46,20,33,"createContext"],[31,59,20,33],[31,61,20,63,"undefined"],[31,70,20,72],[31,71,20,73],[32,2,22,0],[32,8,22,6,"API_URL"],[32,15,22,13],[32,18,22,16,"process"],[32,25,22,23],[32,26,22,24,"env"],[32,29,22,27],[32,30,22,28,"EXPO_PUBLIC_BACKEND_URL"],[32,53,22,51],[32,56,22,54],[32,62,22,60],[33,2,24,7],[33,8,24,13,"AuthProvider"],[33,20,24,66],[33,23,24,69,"AuthProvider"],[33,24,24,70],[34,4,24,72,"children"],[35,2,24,81],[35,3,24,82],[35,8,24,87],[36,4,25,2],[36,10,25,8],[36,11,25,9,"user"],[36,15,25,13],[36,17,25,15,"setUser"],[36,24,25,22],[36,25,25,23],[36,28,25,26],[36,32,25,26,"useState"],[36,38,25,34],[36,39,25,34,"useState"],[36,47,25,34],[36,49,25,48],[36,53,25,52],[36,54,25,53],[37,4,26,2],[37,10,26,8],[37,11,26,9,"token"],[37,16,26,14],[37,18,26,16,"setToken"],[37,26,26,24],[37,27,26,25],[37,30,26,28],[37,34,26,28,"useState"],[37,40,26,36],[37,41,26,36,"useState"],[37,49,26,36],[37,51,26,52],[37,55,26,56],[37,56,26,57],[38,4,27,2],[38,10,27,8],[38,11,27,9,"isLoading"],[38,20,27,18],[38,22,27,20,"setIsLoading"],[38,34,27,32],[38,35,27,33],[38,38,27,36],[38,42,27,36,"useState"],[38,48,27,44],[38,49,27,44,"useState"],[38,57,27,44],[38,59,27,45],[38,63,27,49],[38,64,27,50],[39,4,29,2],[39,8,29,2,"useEffect"],[39,14,29,11],[39,15,29,11,"useEffect"],[39,24,29,11],[39,26,29,12],[39,32,29,18],[40,6,30,4,"loadStoredAuth"],[40,20,30,18],[40,21,30,19],[40,22,30,20],[41,4,31,2],[41,5,31,3],[41,7,31,5],[41,9,31,7],[41,10,31,8],[42,4,33,2],[42,10,33,8,"loadStoredAuth"],[42,24,33,22],[42,27,33,25],[42,33,33,25,"loadStoredAuth"],[42,34,33,25],[42,39,33,37],[43,6,34,4],[43,10,34,8],[44,8,35,6],[44,14,35,12,"storedToken"],[44,25,35,23],[44,28,35,26],[44,34,35,32,"AsyncStorage"],[44,46,35,44],[44,47,35,44,"default"],[44,54,35,44],[44,55,35,45,"getItem"],[44,62,35,52],[44,63,35,53],[44,70,35,60],[44,71,35,61],[45,8,36,6],[45,14,36,12,"storedUser"],[45,24,36,22],[45,27,36,25],[45,33,36,31,"AsyncStorage"],[45,45,36,43],[45,46,36,43,"default"],[45,53,36,43],[45,54,36,44,"getItem"],[45,61,36,51],[45,62,36,52],[45,68,36,58],[45,69,36,59],[46,8,38,6],[46,12,38,10,"storedToken"],[46,23,38,21],[46,27,38,25,"storedUser"],[46,37,38,35],[46,39,38,37],[47,10,39,8,"setToken"],[47,18,39,16],[47,19,39,17,"storedToken"],[47,30,39,28],[47,31,39,29],[48,10,40,8,"setUser"],[48,17,40,15],[48,18,40,16,"JSON"],[48,22,40,20],[48,23,40,21,"parse"],[48,28,40,26],[48,29,40,27,"storedUser"],[48,39,40,37],[48,40,40,38],[48,41,40,39],[49,8,41,6],[50,6,42,4],[50,7,42,5],[50,8,42,6],[50,15,42,13,"error"],[50,20,42,18],[50,22,42,20],[51,8,43,6,"console"],[51,15,43,13],[51,16,43,14,"error"],[51,21,43,19],[51,22,43,20],[51,43,43,41],[51,45,43,43,"error"],[51,50,43,48],[51,51,43,49],[52,6,44,4],[52,7,44,5],[52,16,44,14],[53,8,45,6,"setIsLoading"],[53,20,45,18],[53,21,45,19],[53,26,45,24],[53,27,45,25],[54,6,46,4],[55,4,47,2],[55,5,47,3],[56,4,49,2],[56,10,49,8,"login"],[56,15,49,13],[56,18,49,16],[56,24,49,16,"login"],[56,25,49,23,"username"],[56,33,49,39],[56,35,49,41,"password"],[56,43,49,57],[56,48,49,62],[57,6,50,4],[57,10,50,8],[58,8,51,6],[58,14,51,12,"response"],[58,22,51,20],[58,25,51,23],[58,31,51,29,"axios"],[58,36,51,34],[58,37,51,34,"default"],[58,44,51,34],[58,45,51,35,"post"],[58,49,51,39],[58,50,51,40],[58,53,51,43,"API_URL"],[58,60,51,50],[58,73,51,63],[58,75,51,65],[59,10,52,8,"username"],[59,18,52,16],[60,10,53,8,"password"],[61,8,54,6],[61,9,54,7],[61,10,54,8],[62,8,56,6],[62,14,56,12],[63,10,56,14,"access_token"],[63,22,56,26],[64,10,56,28,"user"],[64,14,56,32],[64,16,56,34,"userData"],[65,8,56,43],[65,9,56,44],[65,12,56,47,"response"],[65,20,56,55],[65,21,56,56,"data"],[65,25,56,60],[66,8,58,6],[66,14,58,12,"AsyncStorage"],[66,26,58,24],[66,27,58,24,"default"],[66,34,58,24],[66,35,58,25,"setItem"],[66,42,58,32],[66,43,58,33],[66,50,58,40],[66,52,58,42,"access_token"],[66,64,58,54],[66,65,58,55],[67,8,59,6],[67,14,59,12,"AsyncStorage"],[67,26,59,24],[67,27,59,24,"default"],[67,34,59,24],[67,35,59,25,"setItem"],[67,42,59,32],[67,43,59,33],[67,49,59,39],[67,51,59,41,"JSON"],[67,55,59,45],[67,56,59,46,"stringify"],[67,65,59,55],[67,66,59,56,"userData"],[67,74,59,64],[67,75,59,65],[67,76,59,66],[68,8,61,6,"setToken"],[68,16,61,14],[68,17,61,15,"access_token"],[68,29,61,27],[68,30,61,28],[69,8,62,6,"setUser"],[69,15,62,13],[69,16,62,14,"userData"],[69,24,62,22],[69,25,62,23],[70,6,63,4],[70,7,63,5],[70,8,63,6],[70,15,63,13,"error"],[70,20,63,23],[70,22,63,25],[71,8,64,6],[71,14,64,12],[71,18,64,16,"Error"],[71,23,64,21],[71,24,64,22,"error"],[71,29,64,27],[71,30,64,28,"response"],[71,38,64,36],[71,40,64,38,"data"],[71,44,64,42],[71,46,64,44,"detail"],[71,52,64,50],[71,56,64,54],[71,70,64,68],[71,71,64,69],[72,6,65,4],[73,4,66,2],[73,5,66,3],[74,4,68,2],[74,10,68,8,"register"],[74,18,68,16],[74,21,68,19],[74,27,68,19,"register"],[74,28,68,26,"username"],[74,36,68,42],[74,38,68,44,"password"],[74,46,68,60],[74,48,68,62,"studentClass"],[74,60,68,82],[74,62,68,84,"email"],[74,67,68,98],[74,72,68,103],[75,6,69,4],[75,10,69,8],[76,8,70,6],[76,14,70,12,"response"],[76,22,70,20],[76,25,70,23],[76,31,70,29,"axios"],[76,36,70,34],[76,37,70,34,"default"],[76,44,70,34],[76,45,70,35,"post"],[76,49,70,39],[76,50,70,40],[76,53,70,43,"API_URL"],[76,60,70,50],[76,76,70,66],[76,78,70,68],[77,10,71,8,"username"],[77,18,71,16],[78,10,72,8,"password"],[78,18,72,16],[79,10,73,8,"student_class"],[79,23,73,21],[79,25,73,23,"studentClass"],[79,37,73,35],[80,10,74,8,"email"],[81,8,75,6],[81,9,75,7],[81,10,75,8],[82,8,77,6],[82,14,77,12],[83,10,77,14,"access_token"],[83,22,77,26],[84,10,77,28,"user"],[84,14,77,32],[84,16,77,34,"userData"],[85,8,77,43],[85,9,77,44],[85,12,77,47,"response"],[85,20,77,55],[85,21,77,56,"data"],[85,25,77,60],[86,8,79,6],[86,14,79,12,"AsyncStorage"],[86,26,79,24],[86,27,79,24,"default"],[86,34,79,24],[86,35,79,25,"setItem"],[86,42,79,32],[86,43,79,33],[86,50,79,40],[86,52,79,42,"access_token"],[86,64,79,54],[86,65,79,55],[87,8,80,6],[87,14,80,12,"AsyncStorage"],[87,26,80,24],[87,27,80,24,"default"],[87,34,80,24],[87,35,80,25,"setItem"],[87,42,80,32],[87,43,80,33],[87,49,80,39],[87,51,80,41,"JSON"],[87,55,80,45],[87,56,80,46,"stringify"],[87,65,80,55],[87,66,80,56,"userData"],[87,74,80,64],[87,75,80,65],[87,76,80,66],[88,8,82,6,"setToken"],[88,16,82,14],[88,17,82,15,"access_token"],[88,29,82,27],[88,30,82,28],[89,8,83,6,"setUser"],[89,15,83,13],[89,16,83,14,"userData"],[89,24,83,22],[89,25,83,23],[90,6,84,4],[90,7,84,5],[90,8,84,6],[90,15,84,13,"error"],[90,20,84,23],[90,22,84,25],[91,8,85,6],[91,14,85,12],[91,18,85,16,"Error"],[91,23,85,21],[91,24,85,22,"error"],[91,29,85,27],[91,30,85,28,"response"],[91,38,85,36],[91,40,85,38,"data"],[91,44,85,42],[91,46,85,44,"detail"],[91,52,85,50],[91,56,85,54],[91,77,85,75],[91,78,85,76],[92,6,86,4],[93,4,87,2],[93,5,87,3],[94,4,89,2],[94,10,89,8,"logout"],[94,16,89,14],[94,19,89,17],[94,25,89,17,"logout"],[94,26,89,17],[94,31,89,29],[95,6,90,4],[95,10,90,8],[96,8,91,6],[96,14,91,12,"AsyncStorage"],[96,26,91,24],[96,27,91,24,"default"],[96,34,91,24],[96,35,91,25,"removeItem"],[96,45,91,35],[96,46,91,36],[96,53,91,43],[96,54,91,44],[97,8,92,6],[97,14,92,12,"AsyncStorage"],[97,26,92,24],[97,27,92,24,"default"],[97,34,92,24],[97,35,92,25,"removeItem"],[97,45,92,35],[97,46,92,36],[97,52,92,42],[97,53,92,43],[98,8,93,6,"setToken"],[98,16,93,14],[98,17,93,15],[98,21,93,19],[98,22,93,20],[99,8,94,6,"setUser"],[99,15,94,13],[99,16,94,14],[99,20,94,18],[99,21,94,19],[100,6,95,4],[100,7,95,5],[100,8,95,6],[100,15,95,13,"error"],[100,20,95,18],[100,22,95,20],[101,8,96,6,"console"],[101,15,96,13],[101,16,96,14,"error"],[101,21,96,19],[101,22,96,20],[101,42,96,40],[101,44,96,42,"error"],[101,49,96,47],[101,50,96,48],[102,6,97,4],[103,4,98,2],[103,5,98,3],[104,4,100,2],[104,24,101,4],[104,28,101,4,"_reactJsxDevRuntime"],[104,47,101,4],[104,48,101,4,"jsxDEV"],[104,54,101,4],[104,56,101,5,"AuthContext"],[104,67,101,16],[104,68,101,17,"Provider"],[104,76,101,25],[105,6,101,26,"value"],[105,11,101,31],[105,13,101,33],[106,8,101,35,"user"],[106,12,101,39],[107,8,101,41,"token"],[107,13,101,46],[108,8,101,48,"login"],[108,13,101,53],[109,8,101,55,"register"],[109,16,101,63],[110,8,101,65,"logout"],[110,14,101,71],[111,8,101,73,"isLoading"],[112,6,101,83],[112,7,101,85],[113,6,101,85,"children"],[113,14,101,85],[113,16,102,7,"children"],[114,4,102,15],[115,6,102,15,"fileName"],[115,14,102,15],[115,16,102,15,"_jsxFileName"],[115,28,102,15],[116,6,102,15,"lineNumber"],[116,16,102,15],[117,6,102,15,"columnNumber"],[117,18,102,15],[118,4,102,15],[118,11,103,26],[118,12,103,27],[119,2,105,0],[119,3,105,1],[120,2,107,7],[120,8,107,13,"useAuth"],[120,15,107,20],[120,18,107,23,"useAuth"],[120,19,107,23],[120,24,107,29],[121,4,108,2],[121,10,108,8,"context"],[121,17,108,15],[121,20,108,18],[121,24,108,18,"useContext"],[121,30,108,28],[121,31,108,28,"useContext"],[121,41,108,28],[121,43,108,29,"AuthContext"],[121,54,108,40],[121,55,108,41],[122,4,109,2],[122,8,109,6,"context"],[122,15,109,13],[122,20,109,18,"undefined"],[122,29,109,27],[122,31,109,29],[123,6,110,4],[123,12,110,10],[123,16,110,14,"Error"],[123,21,110,19],[123,22,110,20],[123,67,110,65],[123,68,110,66],[124,4,111,2],[125,4,112,2],[125,11,112,9,"context"],[125,18,112,16],[126,2,113,0],[126,3,113,1],[127,0,113,2],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECuB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLS;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}